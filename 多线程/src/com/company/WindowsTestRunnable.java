package com.company;

/**
 * @author wangxiang
 * @create 2020-12-03-19:54
 * ä¾‹å­ï¼šåˆ›å»ºä¸‰ä¸ªçª—å£å–ç¥¨ï¼Œæ€»ç¥¨æ•°ä¸º100å¼   ä½¿ç”¨Runnableæ–¹æ³•
 * <p>
 * é—®é¢˜1ï¼šå–ç¥¨è¿‡ç¨‹ä¸­å‡ºç°äº†é‡ç¥¨ï¼Œé”™ç¥¨--ã€‹å‡ºç°äº†çº¿ç¨‹çš„å®‰å…¨é—®é¢˜
 * <p>
 * é—®é¢˜å‡ºç°çš„åŸå› ï¼šå½“æŸä¸ªçº¿ç¨‹æ“ä½œè½¦ç¥¨çš„è¿‡ç¨‹ä¸­ï¼Œ
 * å°šæœªæ“ä½œå®Œæˆæ—¶ï¼Œå…¶ä»–çº¿ç¨‹å‚ä¸è¿›æ¥ï¼Œä¹Ÿæ¥æ“ä½œè½¦ç¥¨
 * <p>
 * å¦‚ä½•è§£å†³ï¼Ÿ    å½“ä¸€ä¸ªçº¿ç¨‹åœ¨æ“ä½œticketçš„æ—¶å€™ï¼Œå…¶ä»–çº¿ç¨‹ä¸èƒ½å‚ä¸è¿›æ¥ï¼Œç›´åˆ°
 * çº¿ç¨‹aæ“ä½œå®Œçš„æ—¶å€™ï¼Œå…¶ä»–çº¿ç¨‹æ‰å¼€å§‹æ“ä½œticketï¼Œè¿™ç§æƒ…å†µå³ä½¿çº¿ç¨‹aå‡ºç°äº†é˜»å¡ï¼Œ
 * ä¹Ÿä¸èƒ½è¢«æ”¹å˜
 * <p>
 * åœ¨javaä¸­ï¼Œæˆ‘ä»¬é€šè¿‡åŒæ­¥æœºåˆ¶ï¼Œæ¥è§£å†³çº¿ç¨‹çš„å®‰å…¨é—®é¢˜
 * <p>
 * æ–¹æ³•ä¸€ï¼šåŒæ­¥ä»£ç å—
 * å…³é”®å­—ï¼šsynchronized(åŒæ­¥ç›‘è§†å™¨){
 * //éœ€è¦è¢«åŒæ­¥çš„ä»£ç 
 * }
 * è¯´æ˜ï¼šæ“ä½œå…±äº«æ•°æ®çš„ä»£ç ï¼Œå°±æ˜¯éœ€è¦è¢«åŒæ­¥çš„ä»£ç 
 * å…±äº«æ•°æ®ï¼šå¤šä¸ªçº¿ç¨‹å…±åŒæ“ä½œçš„å˜é‡ï¼Œæ¯”å¦‚ï¼šticketå°±æ˜¯å…±äº«æ•°æ®1
 * åŒæ­¥ç›‘è§†å™¨ï¼šä¿—ç§°ï¼šé”  ä»»ä½•ä¸€ä¸ªç±»çš„å¯¹è±¡éƒ½å¯ä»¥æ¥å……å½“é”
 * è¦æ±‚ï¼šå¤šä¸ªçº¿ç¨‹å¿…é¡»è¦å…¬ç”¨åŒä¸€æŠŠé”ğŸ”’
 * è¡¥å……ï¼šåœ¨å®ç°Runnableæ¥å£åˆ›å»ºå¤šçº¿ç¨‹çš„æ–¹å¼ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨thiså……å½“åŒæ­¥ç›‘è§†å™¨
 * åœ¨ç»§æ‰¿Threadç±»åˆ›å»ºå¤šçº¿ç¨‹çš„æ–¹å¼ä¸­ï¼Œæ…ç”¨thiså……å½“åŒæ­¥ç›‘è§†å™¨ï¼Œ
 * å¯ä»¥è€ƒè™‘ä½¿ç”¨å½“å‰ç±»å……å½“åŒæ­¥ç›‘è§†å™¨  XX.class
 *
 *
 *
 * æ–¹æ³•äºŒï¼šåŒæ­¥æ–¹æ³•ï¼šå¦‚æœæ“ä½œå…±äº«æ•°æ®çš„ä»£ç å®Œæ•´çš„å£°æ˜åœ¨ä¸€ä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ä¸å¦¨å°†æ­¤æ–¹æ³•
 * å£°æ˜åŒæ­¥çš„
 *
 * å…³äºåŒæ­¥æ–¹æ³•çš„æ€»ç»“ï¼š
 *      1.åŒæ­¥æ–¹æ³•ä»ç„¶æ¶‰åŠåˆ°åŒæ­¥ç›‘è§†å™¨ï¼Œåªæ˜¯ä¸éœ€è¦æˆ‘ä»¬æ˜¾å¼çš„å£°æ˜
 *      2.éé™æ€çš„åŒæ­¥æ–¹æ³•ï¼ŒåŒæ­¥ç›‘è§†å™¨æ˜¯this
 *      3.é™æ€çš„åŒæ­¥æ–¹æ³•ï¼ŒåŒæ­¥ç›‘è§†å™¨æ˜¯å½“å‰ç±»æœ¬èº«
 *
 * åŒæ­¥çš„æ–¹å¼ï¼šè§£å†³äº†çº¿ç¨‹çš„å®‰å…¨é—®é¢˜ï¼Œä½†æ˜¯æ“ä½œåŒæ­¥ä»£ç æ—¶ï¼Œ
 * åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å‚ä¸ï¼Œå…¶ä»–çº¿ç¨‹ç­‰å¾…ï¼Œç›¸å½“äºæ˜¯ä¸€ä¸ªå•çº¿ç¨‹çš„è¿‡ç¨‹ï¼Œæ•ˆç‡ä½
 */
class Window1 implements Runnable {
    private int ticket = 100;

    @Override
    public void run() {
        while (true) {
            synchronized (Window1.class) {//å¯¹è±¡å”¯ä¸€å°±å¯ç”¨thisæŒ‡å‘å½“å‰å”¯ä¸€å¯¹è±¡w1æˆ–è€…  Window1.class
                if (ticket > 0) {
                    try {
                        Thread.sleep(100);
                    } catch (InterruptedException e) {
                        e.printStackTrace();
                    }
                    System.out.println(Thread.currentThread().getName() + ":å–ç¥¨ï¼Œç¥¨å·ä¸ºï¼š" + ticket);
                    ticket--;
                } else {
                    break;
                }
            }
        }
    }
}

public class WindowsTestRunnable {
    public static void main(String[] args) {
        Window1 w1 = new Window1();
        Thread t1 = new Thread(w1);
        Thread t2 = new Thread(w1);
        Thread t3 = new Thread(w1);
        t1.setName("çº¿ç¨‹1ï¼š");
        t2.setName("çº¿ç¨‹2ï¼š");
        t3.setName("çº¿ç¨‹3ï¼š");
        t1.start();
        t2.start();
        t3.start();
    }
}
